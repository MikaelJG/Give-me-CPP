
for (const auto &element : container) {
    // eliminates both other problems
}

I need more on this, 
More examples

Compare old and ranged-for loops

